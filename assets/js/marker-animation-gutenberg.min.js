/*!
 * marker-animation-gutenberg 1.6.4
 * Copyright (c) 2019 technote-space <technote.space@gmail.com> (https://technote.space)
 * License: GPL-3.0
 */!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=3)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="marker-animation";t.pluginName=n,t.namePrefix="marker-animation",t.classNamePrefix="marker-animation",t.fillName="RichText.ToolbarControls",t.iconSize=20,t.storeName="marker-animation",t.ADD_FORMAT_TYPE="@@marker-animation/ADD_FORMAT_TYPE",t.ADD_CONTROL="@@marker-animation/ADD_CONTROL"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getControlName=function(e){return n.pluginName+"/"+n.namePrefix+e},t.getNavItemClass=function(e){return e+" "+n.classNamePrefix+"-nav-item"},t.getToolbarItem=function(e,t,a){var i=void 0;if(a.length>1)i=wp.element.createElement(o.default,function(e,t,a){var o=n.classNamePrefix+"-dropdown"+(e?" "+n.classNamePrefix+"-is-active":"");return{icon:r.default,label:t,controls:a,className:o,navClassName:n.classNamePrefix+"-nav"}}(e,t,a));else{var s=a[0];i=wp.element.createElement(l,s)}return function(e){return wp.element.createElement(u,{name:n.fillName},e)}(i)};var n=a(0),r=i(a(2)),o=i(a(7));function i(e){return e&&e.__esModule?e:{default:e}}var s=window.wp.components,l=s.ToolbarButton,u=s.Fill},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=window.wp.components.SVG,o=wp.element.createElement(r,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:n.iconSize+"px",height:n.iconSize+"px",viewBox:"0 0 "+n.iconSize+" "+n.iconSize,"enable-background":"new 0 0 "+n.iconSize+" "+n.iconSize},wp.element.createElement("image",{width:n.iconSize,height:n.iconSize,x:"0",y:"0",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\nAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACUlBMVEUAAAABAAABAAEEAAII\nAQQpBRV6Dz6OEkg6Bh0GAQMrBBa2Fl3sHXjtHnjMGWlOCSgFAQMBAAE2Bhy1FlztHXjsHXjsHnnA\nF2IuBRcGAQNbCi/TGmzqHXhiDDIMAQZhCzLdG3HtHnnFGGQ4BxwOAQd4Dj7aG2/PGmpKCSYbAw6i\nE1TsHXnsHXjPGWoyBhoCAAEvBRijE1TtHXjsHXjFGGVJCSU0Bhq4Fl7pHXbtHnnOGWlICSUIAQRI\nCCXcG3HsHnnOGWkvBhgBAQEwDB3EGmXsHnjEGGRHCCQICAgqICWEIk3NGWlGCCQLCwslJSWIIk/i\nHnTrHXjKGGYwBRsREREmJiYlJSWPIVLjHnTsHni/F2I/ByEBAQEfHx8mJiY0JSyXIVXHGGY9ByAE\nAAIDAgITExMlJSUiIiIhISEfHB0XAw0HAQNJDCdMITQlJiUfICAUFBQMDAwJCQkEBAQRAgmVEk3J\nH2pnID9rFTxeDTIWAwsQAggDAAEJAQWFEETrHnjuHnnzHnzxHnvHGWeuFlp8D0BaCy4pBRUZAw0P\nAggLAQZ2Dz3MGWmrFljKGWfhHHLmHXbuHnruHnruHnrqHnmpFVeTEkxdDDAqBRUEAQIUAgsrBRYa\nAw4qBRY1BxtLCSduDjiNEknCGGToHXftHXnsHnnfHHLJGWeeFFIjBBEOAgdhDDJwDjqhFFTPGmrk\nHXXmHXaHEUYRAgkGAQM5Bx5pDTaoFVfrHXmyF1wdBA8JAQRkDDTrHXmZE0/tHnnuHnnsHXntHXkl\nJiUyJSsmJib///99F6baAAAAvnRSTlMAAAAAACV7kTQFJLf7/tFJBAEwtv3+/cEnBFXa+GMJXOT9\nyDMMc+TVRBig+v3UKgEqofz8yUIvufj+0kAHQOP80SYHVdb+xz8v0/zQPkDv/v78zSJm+/7+/vzC\nOgPA/v7+yjgDCnL24di1FQVX4/zRfkUzFw2U/NBvNAkEAQN6+f3l2auJXT0bDQUDWLSYtc7g9fz6\n7ZV+QhMCCxsOGyc0THGg1P744Lx7EQUvS4bJ5+FmCQIeUpffkBACPL9xcEB1MAAAAAFiS0dExWML\nK3cAAAAHdElNRQfjAgQLJxP7iBvhAAABPElEQVQoz2NgQAWsbOwcnAwYgJGLm4eXj18AXVxQSFhk\nn6iYuASauKSU9P59+0T3yciiisvJK+wDAlFFJWUUcRVVNVGwhLoGsu2Mmlra+0ASOrp6yMr1DQyN\nDoAkjE1MUcwxM7fYB5KwtLJGdquNrR1QseU+UXsHR2TlTs4urkCJA/uM3dxRzPHw9DoIkrD09kH1\ns6/fIf+AffsCg4LRfBwSGnY4PCIyKhpNPCY2LuxIfEJiUjKqeEpq3JG09IzMLDT12Tm5efkFhUXF\n6EFdUlpWXlFZVV2DLlFbV99gadnY1NzS2tbe0ckEl+jq7unt7eufMHHS5Cl9U6dNnzETKsE0a/ac\nOXPnzV+wcNHiJQ1Lly1fsRKmhxnGWLV6zdp163k2bNwE4bMg2bh5y9Zt23fsZMACdu3esxekAwCe\nEWtEoX+RcQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wMi0wNFQxMTozOToxOSswMDowMAjLZwwA\nAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDItMDRUMTE6Mzk6MTkrMDA6MDB5lt+wAAAAAElFTkSu\nQmCC"}));t.default=o},function(e,t,a){"use strict";var n=a(4),r=a(5),o=marker_animation_params.class,i=function(e,t,a,r){(0,n._addStyle)(function(a,n){var o="body #editor ."+a+(r?"[data-"+marker_animation_params.prefix+e+'="'+t+'"]':""),i=document.createElement("style");document.head.appendChild(i);var s=i.sheet;s.insertRule?s.insertRule(o+"{"+n+"}",s.cssRules.length):s.addRule(o,n)},e,t,a)};Object.keys(marker_animation_params.details).forEach(function(e){var t=marker_animation_params.details[e];if(!t.ignore){var a=(0,n.parseInputValue)("input/checkbox"===t.form?"checked"===t.attributes.checked:t.value,e,!0),r=a.name,o=a.value;i(r,o)}}),wp.domReady(function(){[].forEach.call(document.getElementById("editor").getElementsByClassName(marker_animation_params.class),function(e){Object.keys(e.dataset).forEach(function(t){t.substring(0,marker_animation_params.prefix.length)===marker_animation_params.prefix&&i(t.slice(marker_animation_params.prefix.length),e.dataset[t],void 0,!0)})})}),(0,r.myRegisterFormatType)("",marker_animation_params.title,o),Object.keys(marker_animation_params.settings).forEach(function(e){var t=marker_animation_params.settings[e];t.options.is_valid_button_block_editor&&(Object.keys(t.options).forEach(function(e){i(e,t.options[e],t.options.class)}),i("display","inline",t.options.class),i("background-position","left -100% center",t.options.class),i("background-repeat","repeat-x",t.options.class),(0,r.myRegisterFormatType)(t.id,t.title,t.options.class,!1,marker_animation_params.title))})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),void 0===marker_animation_params.added_style&&(marker_animation_params.added_style={});t._addStyle=function(e,t,a,n){if(void 0===n&&(n=marker_animation_params.class),!(marker_animation_params.added_style[n]&&marker_animation_params.added_style[n][t]&&marker_animation_params.added_style[n][t][a])){var r=null;"color"===t?r="background-image:linear-gradient(to right,rgba(255,255,255,0) 50%,"+a+" 50%)":"thickness"===t?r="background-size:200% "+a:"font_weight"===t?r="font-weight:"+(a&&"null"!==a?a:"normal"):"padding_bottom"===t?r="padding-bottom:"+a:"display"===t?r="display:"+a:"background-position"===t?r="background-position:"+a:"background-repeat"===t&&(r="background-repeat:"+a),r&&e(n,r),marker_animation_params.added_style[n]||(marker_animation_params.added_style[n]={}),marker_animation_params.added_style[n][t]||(marker_animation_params.added_style[n][t]={}),marker_animation_params.added_style[n][t][a]=!0}},t.parseInputValue=function(e,t,a){var n=marker_animation_params.details[t],r=n.attributes["data-option_name"]?n.attributes["data-option_name"]:t;if("input/checkbox"===n.form)if(e){if(!a&&n.attributes["data-value"])return!1;e=void 0===n.attributes["data-option_value-true"]?e:n.attributes["data-option_value-true"]}else{if(!a&&!n.attributes["data-value"])return!1;e=void 0===n.attributes["data-option_value-false"]?e:n.attributes["data-option_value-false"]}return!!(a||""!==e&&e!==n.attributes["data-value"])&&{name:r,value:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.myRegisterFormatType=void 0;var n=a(6);Object.defineProperty(t,"myRegisterFormatType",{enumerable:!0,get:function(){return n.myRegisterFormatType}}),a(9)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.myRegisterFormatType=function(e,t,a,o,u){o||(o="span");i(r.storeName).addFormatType(e,u,t,o,a),l((0,n.getControlName)(e),{title:t,tagName:o,className:a,edit:function(t){return i(r.storeName).addControl(e,t),s(r.storeName).isLast(e)?(0,n.getToolbarItem)(s(r.storeName).isActive(e),u,s(r.storeName).getControls(e)):null}})};var n=a(1),r=a(0),o=wp.data,i=o.dispatch,s=o.select,l=window.wp.richText.registerFormatType},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(8),o=(n=r)&&n.__esModule?n:{default:n};var i=window.lodash,s=i.flatMap,l=i.filter,u=window.wp.components,c=u.Dropdown,d=u.IconButton,m=u.NavigableMenu;t.default=function(e){var t=e.icon,a=e.label,n=e.menuLabel,r=e.controls,i=e.className,u=e.navClassName;if(!r||!r.length)return null;var p=r;Array.isArray(p[0])||(p=[p]);var f=0===l(s(p,function(e){return e}),function(e){return!e.isDisabled}).length;return wp.element.createElement(c,{className:(0,o.default)("components-dropdown-menu",i),contentClassName:"components-dropdown-menu__popover",focusOnMount:!1,position:"top right",renderToggle:function(e){var n=e.isOpen,r=e.onToggle;return wp.element.createElement(d,{className:"components-dropdown-menu__toggle",icon:t,onClick:r,"aria-haspopup":"true","aria-expanded":n,label:a,tooltip:a,disabled:f},wp.element.createElement("span",{className:"components-dropdown-menu__indicator"}))},renderContent:function(e){var t=e.onClose;return wp.element.createElement(m,{className:(0,o.default)("components-dropdown-menu__menu",u),role:"menu","aria-label":n},s(p,function(e,a){return e.map(function(e,n){return wp.element.createElement(d,{key:[a,n].join(),onClick:function(a){a.stopPropagation(),t(),e.onClick&&e.onClick()},className:(0,o.default)("components-dropdown-menu__menu-item",{"has-separator":a>0&&0===n,"is-active":e.isActive},e.className),icon:e.icon,role:"menuitem",disabled:e.isDisabled},e.title)})}))}})}},function(e,t,a){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var i=r.apply(null,n);i&&e.push(i)}else if("object"===o)for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},function(e,t,a){"use strict";var n=s(a(10)),r=s(a(11)),o=s(a(12)),i=a(0);function s(e){return e&&e.__esModule?e:{default:e}}(0,wp.data.registerStore)(i.storeName,{reducer:n.default,selectors:r.default,actions:o.default})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(0),o=a(1),i=a(2),s=(n=i)&&n.__esModule?n:{default:n};var l=window.wp.richText.toggleFormat;t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formatTypes:{},controls:{},groups:{},isActive:{}},t=arguments[1];switch(t.type){case r.ADD_FORMAT_TYPE:var a=(0,o.getControlName)(t.payload.id),n=t.payload.group?t.payload.group:"";return e.groups[a]=n,e.formatTypes[n]||(e.formatTypes[n]={}),a in e.formatTypes[n]?void window.console.error("duplicated id"):(e.formatTypes[n][a]={index:Object.keys(e.formatTypes[n]).length,id:t.payload.id,group:n,title:t.payload.title,tagName:t.payload.tagName,className:t.payload.className},e);case r.ADD_CONTROL:var i=(0,o.getControlName)(t.payload.id),u=e.groups[i],c=e.formatTypes[u][i];return 0===c.index&&(e.controls[u]=[],e.isActive[u]=!1),e.isActive[u]|=t.payload.args.isActive,e.controls[u].push({title:c.title,icon:s.default,className:(0,o.getNavItemClass)(c.className),isActive:t.payload.args.isActive,isDisabled:!t.payload.args.isActive&&t.payload.args.value.start===t.payload.args.value.end,onClick:function(){t.payload.args.onChange(l(t.payload.args.value,{type:i}))}}),e;default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);function r(e,t){var a=e.groups,r=e.formatTypes,o=e.controls,i=e.isActive,s=(0,n.getControlName)(t),l=a[s];return{name:s,group:l,setting:r[l][s],formatTypes:r,controls:o,isActive:i}}t.default={isLast:function(e,t){var a=r(e,t),n=a.formatTypes,o=a.group,i=a.setting;return Object.keys(n[o]).length-1===i.index},isActive:function(e,t){var a=r(e,t),n=a.isActive;return n[a.group]},getControls:function(e,t){var a=r(e,t);return a.controls[a.group]}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0);t.default={addFormatType:function(e,t,a,r,o){return{type:n.ADD_FORMAT_TYPE,payload:{id:e,group:t,title:a,tagName:r,className:o}}},addControl:function(e,t){return{type:n.ADD_CONTROL,payload:{id:e,args:t}}}}}]);